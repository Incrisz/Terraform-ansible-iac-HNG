# Terraform & Ansible Automation

This project automates the deployment of infrastructure on AWS using Terraform and configures the instances using Ansible.

## Overview

- **Terraform** provisions AWS infrastructure (EC2 instances, security groups, etc.).
- **Ansible** configures the instances (e.g., installs Docker, deploys applications).
- The inventory file (`inventory.ini`) is dynamically generated by Terraform.

## Prerequisites

Ensure you have the following installed:

- [Terraform](https://developer.hashicorp.com/terraform/downloads)
- [Ansible](https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html)
- AWS CLI configured with appropriate credentials.
- SSH key (`devops.pem`) with correct permissions (`chmod 400 devops.pem`).

## Setup Instructions

### 1. Clone the Repository

```bash
git clone https://github.com/incrisz/Terraform-ansible-iac-HNG.git
cd Terraform-ansible-iac-HNG
```

### 1.1 Insert Your access and secret key at variables.tf edit the default value
### 1.2 Also put your devops.pem in the parent directory but if your keypair isn't named devops.pem modify my ec2.tf 

### 2. Initialize and Deploy Infrastructure with Terraform

```bash
cd terraform
terraform init
terraform apply -auto-approve
```

This will create the necessary AWS resources and generate `inventory.ini` in the `ansible` directory.

### 3. Verify Generated Inventory

Check the `inventory.ini` file to confirm the EC2 instance details:

```bash
cat ansible/inventory.ini
```

Ensure the instance details are correct before proceeding.

### 4. Run Ansible Playbook

```bash
cd ../ansible
sudo ansible-playbook -i inventory.ini playbook.yml -v
```

This installs Docker, deploys applications, and configures the system.

---

This README provides a structured and clear guide for your setup. Let me know if you'd like any refinements! ðŸš€

